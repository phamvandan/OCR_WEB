'VIỆN KH-CN QUÂN SỰ CỌNG HOÀ XÃ HỘI CHỦ NGHĨA VIỆT NAM

'VIỆN CÔNG NGHỆ THÔNG TIN 'Độc lập - Tự do - Hạnh phúc
Số:362/VCNTT-KH Hà Nội, ngày 0Äiháng & năm 2017
'Ví phê duyệt Bộ tiêu chí, điều kiện tích
hợp của đề tài cấp Viện KHCNQS

Kính gửi: Phòng Tham mưu — Kế hoạch.

Căn cứ biên bản họp hội đồng khoa học xét duyệt hồ sơ đề tài khoa học
công nghệ cắp Viện KH-CN Quân sự ngày 26/02/2016;

Căn cứ vào Hợp đồng Nghiên cứu khoa học và phát triển công nghệ số
133A/2016/HĐ-CNTT ngày 16/06/2016 giữa Viện Khoa học và Công nghệ quân
sự/Bộ Quốc phòng và Viện Công nghệ thông tin;

Căn cứ vào thuyết mình của đề tài “Nghiên cứu xây đựng mô hình thử
nghiệm hệ thống quản trị tích hợp cho các chương trình quản lý của Viện
KHCNGQS và nâng cấp chương trình Quản lý hành chính, Trang thông tin điện tử
để thử nghiệm mô hình trên” (CNĐT: Đại úy Nguyễn Cảnh Hùng);

Căn cứ vào biên bản Hội thảo khoa học về đóng góp xây dựng tiêu chí,
điều kiện tích hợp cho mô hình quản trị ích hợp ngày 20/07/2016;

Căn cứ vào biên bản Hội thảo khoa học về đóng góp xây dựng tiêu chí,
điều kiện tích hợp cho mô hình quản trị tích hợp ngày 13/07/2017,

Tổ đề tài của Viện Công nghệ thông tin đã xây dựng và hoàn thiện Bộ tiêu
chí điều kiện tích hợp theo ý kiến đóng góp của các chuyên gia trong các buổi
Hội thảo (Bộ tiêu chí và điều kiện tích hợp được gửi kèm theo công văn này).

'Viện Công nghệ thông tin kính đề nghị Phòng TM-KH xem xét và báo cáo
Ban Giám đốc Viện KHCNQS phê duyệt Bộ tiêu chí và điều kiện tích hợp của đề
tài nêu trên.

Nơi nhận 'VIỆN TRƯỞNG

- Như trên, ỆN TRƯỞNG
- CNĐT;
~ Lưu: VT, KH; H04.

  

rừng tá Nguyễn Đức ĐịnhPhụ Lục
BỘ TIÊU CHÍ, ĐIỀU KIỆN TÍCH HỢP.
(Kèm theo công văn số äé3 /VCNTT-KH ngày 0 Ệ /2017 của Viện CNTT)

L MỤC ĐÍCH, YÊU CẦU
Bộ tiêu chí, điều kiện tích hợp là căn cứ để xây dựng các phân hệ phần mềm

mới sẵn sàng tích hợp được vào hệ thống tích hợp.
Bộ tiêu chí, điều kiện tích hợp là một sản phẩm của đề tài và được nhóm
thực hiện đề tài đề xuất thỏa mãn các yêu cầu sau đây:
- Các tiêu chí, điều kiện tích hợp được nêu ra là đủ cơ sở, căn cứ để một
phân hệ phần mềm mới sẵn sàng tích hợp được vào hệ thống quản trị tích hợp
- Các tiêu chí, điều kiện tích hợp được xây dựng là các yêu cầu cụ thể, rõ
ràng và trong phạm vi thực hiện được đối với các nhóm phát triển các phân hệ
phần mềm mới.
1I.TÔNG QUAN VỀ HỆ THÓNG TÍCH HỢP
2.1. Mô hình tích hợp
'Hệ thống tích hợp trong phạm vi đề tài cho phép tích hợp các phần mềm sẽ
được phát triển sau này của Viện KHCNQS. Như vậy mô hình tích hợp ở đây là
tích hợp ứng dụng, mô hình tích hợp này phân biệt với mô hình tích hợp ở mức
module, ví dụ hệ thống portal. Mô hình tích hợp mức ứng dụng này có các đặc
trưng sau đây:
(1 Các phân hệ hoạt động độc lập về mặt nghiệp vụ
[ Phân hệ nào sử dụng database của phân hệ đó
Ö Các phân hệ được xây dựng độc lập bởi các nhóm phát triển phần
mềm khác nhau
Œ Triển khai được trên các web. server và database server khác nhau
Để đảm bảo được một phân hệ với các đặc trưng trên tích hợp được vào hệ
thống tích hợp, yêu cầu phân hệ đó phải thõa mãn được các tiêu chí và điều kiện
tích hợp.

2.2. Các chức năng của hệ thống tích hợp

2.2.1. Quản lý phân hệ

Chức năng quản lý phân hệ cho phép hệ thống quản lý các phân hệ trong hệ
thống, bao gồm:Q Tích hợp phân bệ mới vào hệ thống,

a Cặp nhật thông tin phân hệ ảnh đại diện, mô tà VY.
[ Gỡ bỏ phân hệ khỏi hệ thống

D Kích hoạt hoặc khóa truy cập đến phân hệ

2.2.2. Quản lý, phân quyền người đàng tập trung và single sign-on

Chức năng này cho phép hệ thống tích hợp, quản lý, phân quyền người
dùng, đăng nhập hệ thống vv... tập trung trên nệ và không được phép xây dựng
lại trên các phân hệ.

Người dùng được xác thực một lần thông qua hệ thống tích hợp, mỗi cán bộ
CÁ mộc khoá và chỉ cần đăng hập một n để sử dụng c c BẾn
hệ.

Để thực hiện phân quyền cho một chức năng, nào đó của phân hệ, phân hệ
đó phải lấy dữ liệu phân quyền tương ứng với chức năng và người dùng đó từ hệ
thống tích hợp thông qua 'webservice.

2.2.3. Quản lý danh mục dùng chung

Danh mục dùng, chung là các bảng, danh mục được xác định sẽ được sử
dụng cho từ hai phân hệ phần mềm trở lên. Dữ liệu trên các bảng này được cập
nhật thông qua mô hình quản trị tích hợp và được dùng chung cho tốt cả các
phân hệ và không cần phải được xây dựng, lại trên các phân hệ phần mềm.

'Việc xây dựng bộ danh mục dùng chung sẽ thống nhất được dữ liệu dùng,
chung giữa tất cả các phân hệ phần mềm, giảm được chỉ phí về công sức và thời
gian xây dựng lại chức năng quản lý các danh mục cho các phân hệ phần mềm.
mới.

Các phân hệ không phải xây dựng lại chức năng, quản lý danh mục dùng
chung mà tất cả các thao tác thêm, sửa, xóa được thực hiện tập trung, trên hệ
thống tích hợp.

Các danh mục dùng chung được các phân hệ truy cập thông qua 'webservice.

2.2.4. Các chức năng khác

Œ Sao lưu, phục hồi đữ liệu bằng tay hoặc tự động theo lịch trình
Q Log hệ thông

[1 Xem thông số hệ thống

Œ Giám sát hệ thống,

Zzw...*avw...

 

1u. NỘI DŨNG BỘ TIÊU Cmí vÀ ĐIỀU KIỆN 'TÍCH HỢP
3.1. Tiêu chí về nền tảng côn. nghệ
Q Phát triển trên nền tảng NET ramework Web Application 4.0 hoặc

A5
Sử dụng IS Webserver 1.0 hoặc T.5
[1 Hệ quản trị cơ SỞ dữ liệu SQL Server 2012
Q Triển khai trên máy chủ chạy hệ đi indow 2008 hoặc 2012 „m
dựng và sử dụng. bộ danh mục. dùng chung
xây dựnB. lại chức năng, quản lý các danh mục

3.2. Tiêu chí về xây
Œ Phân hệ không, là danh
mục dùng, chung,
Œ Phân hệ BH Sang dụng DI ân
phân hệ, n8ƯỢ© tại phân bệ sẽ không. truy xuất được đữ liệu của
mục dùng. chung đó
Œ Phân hệ truy xuất
G Hệ thống cho phép
ví dụ thêm các danh mục dùng, chung phát sinh,

TẤN

 

s và cầu trúc các băng dự TẾ)
chí và điều kiện tích hợp

3.3. Tiêu chí về sử dụng hàm. webservic©
G Việc truy xuất dữ liệu danh mục. dùng chung, dữ liệu phân quyền phải
được thực 'hiện thông qu2 các hàm. 'webservic© được cung, cấp bởi hệ
thống tích hợp
ä Danh HN ananauadigeedchindeeĐÊNE TRE
phụ lục 2 của bộ tiêu chí và điều kiện tích hợp
3.4, Tiêu chí Xây dựng chức năng quản lý› phân quyền và đăng, nhập hệ

thống
G Các phân bệ không, xây
quyền, đăng. nhập hỆŒ Phân hệ truy cập danh sách phân quyền thông qua webservice để thực.
hiện phân quyển cho phân hệ

3.5. Khai báo danh sách chức năng

Phân hệ mới muốn tích hợp được vào hệ thống quản trị tích hợp phải khai
báo và đăng ký danh sách chức năng với hệ thống quản trị tích hợp. Cách thức
khai báo như sau:

Khai báo một bảng cấu hình chức năng trong cơ sở dữ liệu của phần mềm
mới, tên của bảng này là f6/Cau_hỉnh. Cấu trúc bảng này như sau:

xu
Trang, thai Ten_chuc_nang IDChuc nang Tên trường 
020104 020103 020102 020101 
0201 IDChuc nan
5 Bả

Irong đó IDChuc_
ân cấp. Với 02 ký
2 ký tự tiếp theo Ì
: hành chính được Ì Xóa chỉ thị điều hành 
Sửa chỉ thị điều hành Tạo chỉ thị điều hành mới Xem chỉ thị điều hành Ra chỉ thị điều hành 
Phần mềm quản lý hành chính :n_chuc_nang ›g 1. Cấu trúc bảng tbl(

sang là mã chức năng,

tự đầu là mã phân hệ,
à mã tác vụ vv... Ví dụ
hai báo như sau: int 
nvarchar(256) nvarchar(32) Kiểu dữ liệu au_hình

mã này được tổ
02 ký tự tiếp t
bảng tblCau_hìỉ: 
Cho phép Null \g_tha chức th
eo là m
h cho p Khóa chính 0202 Chỉ thị đã gửi 1

 

0203 Gửi văn bản xin ý kiến 1

 

0204 'Văn bản xin ý kiến đã gửi 1

 

 

 

 

 

Mỗi chức năng, tác vụ có trạng thái nhận giá trị 1 hoặc 0 để chỉ ra chức
năng này có đưa vào phân quyền hay không. Trạng thái bằng 1 thì chức năng sẽ
được đưa vào phân quyền và ngược lại.

3.6. Khai báo các tham số tích hợp khác
Để đẩy phân hệ lên webserver và cấu hình IIS cho phân hệ, phân hệ mới
phải khai báo các tham số tích hợp khác bao gồm: site name, tên database, tên
connection string, default document.
e _ Site name: Tên phân hệ trong IIS
e _ Tên database: Tên cơ sở dữ liệu của phân hệ
© Default document Default Document là trang Website mặc
định trong IIS. Mặc định của Web Application trên nền tảng
ASP.NET là Default.aspx. Ngoài ra với một số lý do nào đó,
nhóm phát triển phần mềm có thể đặt trang mặc định khác, ví
dụ login.aspx hay index.aspx
©_ Phân hệ mới khi xây dựng phải kết nối với cơ sở dữ liệu thông,
qua chuỗi kết nối được khai báo trong file Web.confñg. Mặc
định là connectionString. Nếu phân hệ kết nối với nhiều cơ sở
dữ liệu thì phải khai báo bấy nhiêu chuỗi kết nối
“Tất cả các tham số này phải được khai báo theo cấu trúc XML. File chứa tất
cả các khai báo này phải được đặt tên là param.xml và được lưu trong thư mục
/Đata.

 

3.7. Tiêu chí đóng gói phân hệ
Phân hệ sau khi được xây dựng phải được đóng gói để sẵn sàng tích hợp vào
hệ thống. Các bước đóng gói như sau:
Thêm thư mục data vào thư mục gốc của phân hệ
Œ Backup cơ sở dữ liệu vào thư mục data
0202 Chỉ thị đã gửi
0203 Gửi văn bản xin ý kiến
0204 'Văn bản xin ý kiến đã gửi 0204 0203 0202 
'Văn bản xin ý kiến đã gửi Gửi văn bản xin ý kiến Chỉ thị đã gửi Œ Tạo file tham số param.xml khai báo các tham số tích hợp trong thư
mục data
Q Nén thư mục chứa phân hệ thành file .ZIP

IV. QUY TRÌNH XÂY DỰNG VÀ CÁCH THỨC TÍCH HỢP PHÂN
HỆ PHÀN MÈM MỚI VÀO HỆ THÓNG QUẢN TRỊ TÍCH HỢP.

Phân hệ phần mềm muốn tích hợp được vào hệ thống quản trị tích hợp thì
phải thõa mãn được các tiêu chí, điều kiện tích hợp và phải được nhóm phát triển
phần mềm tích hợp vào trong quá trình xây dựng. Các bước để tích hợp các tiêu
chí và điều kiện tích hợp trong quá trình phát triển phân hệ phần mềm mới được
thể hiện cụ thể như sau:

4.1. Tích hợp danh mục dùng chung vào phân hệ

Phân hệ sử dụng các danh mục dùng chung trên hệ thống quản trị thông qua
webservice. Có hai cách để tích hợp danh mục dùng chung vào phân hệ: gọi hàm
webservice trực tiếp khi cần dữ liệu danh mục hoặc đệm (cache) đữ liệu danh
mục trên Database của phân hệ. Dữ liệu được cache trên database của phân hệ
bằng cách xây dựng các bảng dữ liệu giống với các bảng dữ liệu trên hệ thống,
tích hợp về cầu trúc. Dữ liệu được đồng bộ từ bảng danh mục trên hệ thống tích
hợp về bảng cache trên cơ sở dữ lệu của phân hệ thông qua webservice và phân
hệ truy cập bảng danh mục dùng chung trực tiếp từ database của phân hệ. Ưu
điểm của việc cache dữ liệu là nó cho phép mở rộng thêm các trường dữ liệu trên
các danh mục dùng chung và tính toàn vẹn khi thiết kế cơ sở dữ liệu.

 

Danh mục dùng chung |———webservice
'Webservice

ÍTích hợp danh mục) 'Webservice

ÍTích hợp danh mục Hình 1. Tích hợp danh mục dùng chung vào phân hệ mới
4.2. Tích hợp dữ liệu phân quyền
Chức năng quân lý người dùng và phân quyền người dùng (về chức năng,
dữ liệu, đơn vị) được thực hiện tập trung trên hệ thống tích hợp và phân hệ muốn
kiểm tra phân quyền thì phải lấy dữ liệu phân quyền từ trên hệ thống tích hợp về
thông qua hàm webservice. Cách thức lấy dữ liệu phân quyền cũng có hai cách
giống như việc truy xuất danh mục dùng chung.

'Bảng dữ liệu phân quyền
người dùng

   
   
  
 

| ———webserice

 

 

“Thực hiện phân
quyi

Hình 2. Tích hợp dữ liệu phân quyền vào phân hệ mới

4.3. Khai báo danh sách chức năng và các tham số tích hợp khác

Phân hệ muốn tích hợp được vào hệ thống quản trị tích hợp phải khai báo
được danh sách chức năng, tác vụ của phân hệ đó. Danh sách chức năng, tác vụ
được đánh mã theo cấu trúc phân cấp hình cây, 02 ký tự đầu là mã phân hệ, 02 ký.
tự tiếp theo là mã chức năng, 02 ký tự tiếp theo là mã tác vụ vv... Danh sách chức
năng này sẽ được tích hợp vào hệ thống quản trị tích hợp để phân quyền cho
phân hệ về mặt chức năng.

Phân hệ mới khai báo danh sách chức năng thông qua bảng tblCau_ hinh và
để trong cơ sở dữ liệu của phân hệ. Cầu trúc bảng cấu hình như được mô tả trên
bảng 1.

4.4. Khai báo các tham số tích hợp khác
webservice

Í Thực hiện phân webservice

Í Thực hiện phân Ngoài ra, để thực hiện tích hợp nhóm phát triển phân hệ phải cung cấp các
tham số khác như: site name, tên database, tên connection string, default
document. Tắt cả danh sách phân quyển và các tham số này được khai báo trong.
file XML có tên là param.xml và để trong thư mục /data của phân hệ. Cấu trúc
và dữ liệu mẫu của file param.xml cho Trang thông tin điện tử được thể hiện như
sau:

Hình 3. Nội dung file param.xml cho trang thông tin điện tử
4.5. Đóng gói phần mềm
Sau khi phân hệ được xây dựng, nhóm phát triển phân hệ phải đóng gói
phân hệ thành file ZIP để sẵn dàng tích hợp vào hệ thống quản trị tích hợp. File
đóng gói bao gồm source code chương trình sau khi biên dịch, file param.xml và
file backup cơ sở dữ liệu.
4.6. Tích hợp phân hệ vào hệ thống quản trị tích hợp
Phân hệ sau khi hoàn thiện, đóng gói sẽ được chuyển cho người quản trị để
tích hợp vào hệ thống. Ngoài file ZIP, người quản trị còn phải cung cấp các
thông tin khác bao gồm:
«Địa chỉ webserver: Địa chỉ IIS server
© Địa chỉ và tài khoản đăng nhập database server: Địa chỉ máy chủ và
tài khoản đăng nhập vào hệ quản trị cơ sở dữ liệu
e_ Các danh mục dùng chung phân hệ đó sẽ sử dụng
Trong quá trình tích hợp, hệ quản trị sẽ thực hiện các công việc sau đây
Q Upload file Zip lên server và giải nén
Œ Đẩy ứng dụng lên IIS và cấu hình IIS cho ứng dụngG Khôi phục cơ sở dữ liệu.
Q1 Thêm và khởi tạo phân hệ mới
Œ Cấu hình sing]e sign-on cho phân hệ

  

1.Upload file ZIP lên
Cung cấp các tham số: server và giải nền
địa chỉ webserVEF, 2. Đẩy ứng dụng lên 1S
—_ địa hiẻgHb8se9erVSD—- 'Tích hợp phân hệ
tải khoản đăng nhập, vào hệ thông. 3. Restore datab89'
_— cácdanhmỤC đỒHE 4. Thêm và khởi
Quản trị — chung phân 'hệ sử dụng. phân hệ >2Ng

hệ thống,
5. Cấu hình single sign-o'

 

Hình 4. Các bước tích hợp phân hệ vào hệ thống tích hợp
V.KÉT LUẬN

Trên đây là bộ tiêu chí, điều kiện tích hợp và các Yêu cầu trong quá trình
phát triển phân hệ phần mềm mới để đủ điều kiện tích hợp được vào hệ thống
tích hợp. Các tiêu chí điều kiện này được xây dựnE dựa trên đồng BỐP Củ. hội
đồng khoa học Viện CNTT qua các hội thảo khoa học, từ phân tích thiết kế hệ
thống của nhóm thực hiện đề tài và đã được kiểm nghiệm trực tiếp trên các sản.
phẩm phần mềm của đề tài.PHỤ LỤC 1 - DANH SÁCH CÁC DANH MỤC DÙNG CHUNG

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

1. Danh mục quốc gia
TT | Tên trường Kiểudữ liệu P/ key
01 | Quoc giald int *
02 |Ten quoc gia nvarchar(256)
03 | Ghi chủ nvarchar(256)
2. Danh mục dân tộc.
TT | Tên trường Kiểudữ liệu P/F key
01 | Dan tocld imt *
02 |TTen dan toc nvarchar(256)
03 |Ghi chu nvarchar(256)
3. Danh mục loại hợp đồng lao động,
TT | Tên trường Kiểudữ liệu P/F key
01 |Loai HDLDId int *
02 |Ten HDLD nvarchar(256)
03 |Ghi chủ nvarchar(256)
4. Danh mục giáo dục phổ thông.
TT | Tên trường Kiểudữ liệu P/F key
01 | Giao duc pho_thongld int ,
02 |Ten giao duc pho thong | nvarchar(256)
03 | Ghi chu nvarchar(256)

 

 

5. Danh mục hình thức đào tạo.
TT | Tên trường Kiểudữ liệu P/ key
01 | Quoc giald int *
02 |Ten quoc gia nvarchar(256)
03 | Ghi chủ nvarchar(256)
Danh mục dân tộc.
TT | Tên trường Kiểudữ liệu P/F key
01 | Dan tocld imt *
02 |TTen dan toc nvarchar(256)
03 |Ghi chu nvarchar(256)
Danh mục loại hợp đồng lao động,
TT | Tên trường Kiểudữ liệu P/F key
01 |Loai HDLDId int *
02 |Ten HDLD nvarchar(256)
03 |Ghi chủ nvarchar(256)
Danh mục giáo dục phổ thông,
TT | Tên trường Kiểudữ liệu P/F key
01 | Giao duc pho_thongld int ,
02 |Ten giao duc pho thong | nvarchar(256)
03 | Ghi chu nvarchar(256) )anh Đanh ¡ )anh 
Ghi_chu Ten_giao_duc_pho_thong Giao_duc_pho_thongld Tên trường 
aục giáo dục phổ thông Ghỉ_chu Ten_HDLD Loai_HDLDId 
Tên trường tục loại hợp đồng lao động Ghỉ_chủ Ten_dan_toc 
Dan _tocld Tên trường ục dân tộc Ghỉ_chu 
Ten_quoc_gia Quoc_giald Tên trường nvarchar(256) 
nvarchar(256) Kiểudữ liệu nvarchar(256) nvarchar(256) 
int Kiếudữ liệu nvarchar(256) nvarchar(256) 
int Kiểudữ liệu nvarchar(256) nvarchar(256) 
int Kiểudữ liệu P/F key PíE key 
P/F key P/F key TT | Tên trường 'Kiểudỡữ liệu P/F key
01 | Hình thuc dao taold int *
02 |Ten hình thuc dao tao  |nvarchar(256)
03 | Ghi chủ nvarchar(256)
6. Danh mục học hàm.
TT | Tên trường Kiểudữ liệu P/F key
01 |Hoc hamld int *
02 |Ten hoc ham nvarchar(256)
03 | Ghi chu nvarchar(256)
7. Danh mục học vị
TT | Tên trường Kiểudữ liệu P/F key
01 |Hoc vild int *
02 |Ten hoc vi nvarchar(256)
03 | Ghi chu nvarchar(256)
8. Danh mục cấp bậc.
TT | Tên trường Kiểudữ liệu P/ key
01 | Cap bacld int *
02 |Ten cap bac nvarchar(256)
03 |Ghi chu nvarchar(256)
9. Danh mục chức vụ
TT | Tên trường 'Kiểudữ liệu P/Œ key
TT | Tên trường 'Kiểudỡữ liệu P/F key
01 | Hình thuc dao taold int *
02 |Ten hình thuc dao tao  |nvarchar(256)
03 | Ghi chủ nvarchar(256)
Danh mục học hàm.
TT | Tên trường Kiểudữ liệu P/F key
01 |Hoc hamld int *
02 |Ten hoc ham nvarchar(256)
03 | Ghi chu nvarchar(256)
Danh mục học vị
TT | Tên trường Kiểudữ liệu P/F key
01 |Hoc vild int *
02 |Ten hoc vi nvarchar(256)
03 | Ghi chu nvarchar(256)
Danh mục cấp bậc
TT | Tên trường Kiểudữ liệu P/ key
01 | Cap bacld int *
02 |Ten cap bac nvarchar(256)
03 |Ghi chu nvarchar(256)
Danh mục chức vụ
TT | Tên trường 'Kiểudữ liệu P/Œ key nục chức vụ Ghi_chu Ten_cap_bac 
Cap_bacld Tên trường nục cấp bậc Ghi_chu 
Ten_hoc_vi Hoc_vild Tên trường. aục học vị 
Ghi_chu Ten_hoc ham Hoc_hamld Tên trường 
ục học hàm Ghi_chu Ten_hinh thuc_dao_tao Hinh thuc dao_taold 
Tên trường Kiểudữ liệu nvarchar(256) nvarchar(256) 
Kiểudữ liệu nvarchar(256) nvarchar(256) Kiểudữ liệu 
nvarchar(256) nvarchar(256) int Kiểudữ liệu 
nvarchar(256) nvarchar(256) P/# key P/F key 
P/F key 01 | Cap bacld int *
02 |Ten cap bac nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục quan hệ gia đình.
TT | Tên trường Kiểudữ liệu P/ key
01 | Quan he gia dinhld int w
02 |Ten quan he gia dinh nvarchar(256)
03 |Ghi chu nvarchar(256)
. Danh mục thành phần xuất thân
TT | Tên trường Kiểudữ liệu P/Œ key
01 |Thanh phan xuat thanld |int *
02 |Ten thanh phan xuat than | nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục tôn giáo
TT | Tên trường Kiểudữliệu  |P/E key
01 |Ton giaold int »
02 |Ten ton giao nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục văn bằng.
TT | Tên trường Kiểudữ liệu P/F key
0I |Van bangld int *
02 |Ten van bang nvarchar(256)
01 | Cap bacld int *
02 |Ten cap bac nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục quan hệ gia đình
TT | Tên trường Kiểudữ liệu P/ key
01 | Quan he gia dinhld int w
02 |Ten quan he gia dinh nvarchar(256)
03 |Ghi chu nvarchar(256)
Danh mục thành phần xuất thân
TT | Tên trường Kiểudữ liệu P/Œ key
01 |Thanh phan xuat thanld |int *
02 |Ten thanh phan xuat than | nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục tôn giáo.
TT | Tên trường 'Kiểudữ liệu P/F key
01 |Ton giaold int »
02 |Ten ton giao nvarchar(256)
03 | Ghi chu nvarchar(256)
_Danh mục văn bằng.
TT | Tên trường Kiểudữ liệu P/F key
0I |Van bangld int *
02 |Ten van bang nvarchar(256) Danh Danh Danh 
Ghi_chụ Ten_cap bac Cap_ bacld Ten van bang 
Van_bangld Tên trường mục văn bằng Ghi chu 
Ten ton giao Ton_giaold Tên trường mục tôn giáo 
Ghi chu Ten thanh phan xuat_ than Thanh_phan xuat thanld Tên trường 
mục thành phẳn xuất thân Ghỉ_chu Ten quan he gia dinh Quan_he gia _dinhld 
'Tên trường mục quan hệ gia đình nvarchar(256) int 
Kiểudữ liệu nvarchar(256). nvarchar(256) int 
'Kiểudữ liệu nvarchar(256) nvarchar(256). int 
Kiểudữ liệu nvarchar(256) nvarchar(256) int 
Kiểudữ liệu nvarchar(256) nvarchar(256) P/F key 
P/F key PF key P/F key 14.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

03 | Ghi chu nvarchar(256)
Danh mục chứng chỉ
TT | Tên trường Kiểudữ liệu P/F key
01 | Chung child int #
Ä
02 |Ten chung chỉ nvarchar(256)
03 | Ghi chu nvarchar(256)
. Danh mục lý luận chính trị
TT | Tên trường Kiễểudữ liệu P/F key
01 |Ly luan chỉnh trid int *
02 |Ten ly lan chỉnh tri nvarchar(256)
03 |Ghi chu nvarchar(256)
.Danh mục quân hàm
TT | Tên trường Kiễểudữ liệu P/ key
01 | Quan hamld int s
02 |Ten quan ham nvarchar(256)
03 |Ghi chu nvarchar(256)
. Danh mục danh hiệu
TT | Tên trường Kiểudữ liệu P/F key
01 | Danh hieuld int 1
02 |Ten danh hieu nvarchar(256)
03 | Ghi chu nvarchar(256)
TT | Tên trường Kiểudữ liệu P/F key
01 | Chung child int #
¬
02 |Ten chung chỉ nvarchar(256)
03 | Ghi chu nvarchar(256)
_ Danh mục lý luận chính trị
TT | Tên trường Kiễểudữ liệu P/F key
01 |Ly luan chỉnh trid int *
02 |Ten ly lan chỉnh tri nvarchar(256)
03 |Ghi chu nvarchar(256)
Danh mục quân hàm
TT | Tên trường Kiễểudữ liệu P/ key
01 | Quan hamld int s
02 |Ten quan ham nvarchar(256)
03 |Ghi chu nvarchar(256)
_Danh mục danh hiệu.
TT | Tên trường Kiểudữ liệu P/F key
01 |Danh hieuld int *
02 |Ten danh hieu nvarchar(256)
03 |Ghi chu nvarchar(256) Danh Danh mục quân hàm 
Ghi_chủ Ten ly lan chỉnh trỉ Ly luan chỉnh _trild Tên trường 
mục lý luận chính trị Ghi chu Ten chung chỉ Chung_child 
'Tên trường Ghi_chu Ten danh hieu Danh_hieuld 
Tên trường. mục danh hiệu Ghi chu Ten quan ham 
Quan_hamld Tên trường nvarchar(256) nvarchar(256) 
int Kiểudữ liệu nvarchar(256) nvarchar(256) 
int Kiểudữ liệu nvarchar(256) nvarchar(256) 
int Kiểudữ liệu nvarchar(256) nvarchar(256) 
Kiểudữ liệu PF key P/F key PIE key 
P/F key 19.

20.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Danh mục ngôn ngữ

TT | Tên trường Kiếudtliệu  |P/E key
01 [Ngon nguÏd int *

02 |Ten ngon ngu nvarchar(256)

03 |Ghi chu nvarchar(256)

Danh mục địa lý hành chính.

TT | Tên trường |=ieaene PíF key
01 |Dia ly hanh_chinhld Nvarchar(15) #

02 |Ten dia ly hanh chỉnh nvarchar(256)

03 |Ghi chu nvarchar(256)

Danh mục đơn vị

TT | Tên trường 'Kiêudữ liệu Pứ key
01 |Don vild int *

02 |Don vi cap trenld int

03 |Ky hieu don vi nvarchar(256)

04 |Dia chỉ nvarchar(256)

05 |Dia chỉ chỉ tiet nvarchar(256)

06 | Dien thoai nvarchar(256)

07 |So fax nvarchar(256)

08 |Email nvarchar(256)

09 | Website nvarchar(256)

10 | Ghi chu nwvarchar(256)
TT | Tên trường Kiểudữliệu  |P/£ key

 

 

 

 

 

 

01 [Ngon nguid int *
02 |Ten ngon ngu nvarchar(256)
03 | Ghi chu nvarchar(256)
_ Danh mục địa lý hành chính
TT | Tên trường |=ieaene PíF key
01 | Dia ly hanh chỉnhld Nvarcha(15) |*

 

02 |Ten dia ly hanh chỉnh  |nvarchar(256)

 

 

 

 

 

 

 

 

 

 

 

 

03 |Ghi chu nvarchar(256)
. Danh mục đơn vị
TT | Tên trường 'Kiễudữ liệu PỊF key.
01 |Don vild int *
02 |Don vi cap trenld int
03 |Ky hieu don vi nvarchar(256)
04 | Dia chỉ nvarchar(256)
05 |Dia chỉ chỉ tiet nvarchar(256)
06 | Dien thoai nvarchar(256)
07 |So fax nvarchar(256)
08 |Email nvarchar(256)
09 | Website nvarchar(256)

 

 

10 | Ghi chu nvarchar(256). Danh Ngon_nguÏd Tên trường. 
mục đơn vị Ghi_chu Ten_dia ly hanh_chỉnh Dia ly _hanh_chỉnhld 
Tên trường mục địa lý hành chính Ghi_chu Ten ngon _ngu 
Don vild Tên trường. Dien thoai Dia chỉ chỉ tiet 
Dia_chỉ Ky hieu don vì Don vi_cap trenld Ghi chủ 
'Website Email So fax nvarchar(256) 
nvarchar(256) int Kiểudữ liệu Nvarchar(15) 
nvarchar(256) nvarchar(256) nvarchar(256) nvarchar(256) 
nvarchar(256) nvarchar(256) nvarchar(256) nvarchar(256) 
nvarchar(256) nvarchar(256) P/F key ĐI key 
P/F key 21. Danh mục người dùng.

22.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

TT | Tên trường Kiểudữ liệu P/F key
01 |IDnguoi dung — lãm „

02 |Ten nguoi dung int

03 |Ngay thang nam sinh

04 |Gioi tỉnh

05 | Dien thoai nvarchar(256)

06 | Email

07 |Dia chỉ nvarchar(256)

08 | Cap bac

09 |Chuc vu

10 |Don_vild int

11 | Ghi chu nvarchar(256)

Danh mục nhóm người dùng,

TT | Tên trường Kiểudữ liệu P/F key
01 |Nhom nguoi dungld int *

02 |Ten nhom nguoi dung nvarchar(256)

03 |Ghi chu nvarchar(256)
TT | Tên trường Kiểudữ liệu P/F key
01 |IDnguoi dung —hm „
02 |Ten nguoi dung int
03 |Ngay thang nam sinh
04 |Gioi tỉnh
05 | Dien thoai nvarchar(256)
06 | Email
07 |Dia chỉ nvarchar(256)
08 | Cap bac
09 |Chuc vu
10 |Don_vild int
11 |Ghi chu nvarchar(256)
. Danh mục nhóm người dùng.
TT | Tên trường Kiểudữ liệu P/F key
01 |Nhom nguoi dungld int *
02 |Ten nhom nguoi dung nvarchar(256)
03 |Ghi chu nvarchar(256) Nhom _nguoi_dung]d Tên trường mục nhóm người dùng 
Ghi_chu Don_vild Chuc_vu Cap bac 
Diịa chỉ Email Dien_thoai Gioi_tỉnh 
Ngay thang _nam_sinh Ten_nguoi_dung IDnguoi_dung Tên trường 
Ghỉ_chu Ten_nhom_nguoi_dung nvarchar(256) nvarchar(256) 
int Kiểudữ liệu nvarchar(256) int 
nvarchar(256) nvarchar(256) int int 
¬¬ P/F key PHỤ LỤC 2 - DANH SÁCH HÀM API WEBSERVICE
1. Hàm API truy cập dữ liệu danh mục dùng chung

public DataTable GetSharedCategory(string categoryTable, int
pageNumber, imt nưmberRecord, string fields)

Q Đầu vào
©_categoryTable: Tên bảng danh mục dùng chung. Danh sách tên
bảng của các danh mục dùng chung được liệt kê trong phụ lục
1 của bộ tiêu chí và điều kiện tích hợp.
©_ pageNumber: Trang dữ liệu được trả về
©_ numberRecord: Số bản ghỉ trên một trang dữ liệu trả về

©_fields: Danh sách các trường dữ liệu sẽ được trả về, các trường
cách nhau bằng dấu "-". Nếu fields là null thì tắt cả các trường,
của bảng danh mục dùng chung sẽ được trả về

Œ Đầu ra: Bảng dữ liệu danh mục theo các tiêu chí đầu vào
2. Hàm API truy cập dữ liệu phân quyền

public DataTable GetPermission(string Ma_phan_ he, int mode, string
Ma_nguoi_ dụng, string Ma_chuc_nang)

8Ö Đầu vào
o Ma phan he: Mã phân hệ
o mođe:

—_0: Lấy tất cả quyền của phân hệ, trong trường hợp này
các tham số Ma nguoi dung, Ma chuc nang được
truyền vào là các giá trị NULL

—_1: Lấy tất cả các quyền của phân hệ theo người dùng,
trong trường hợp này Ma_chuc_nang được truyền vào là
giá trị NULL

'EG—_2: LẤy danh Sách quyền Của một chức, Tăng của mộc phân
hệ tương ứng với người dùng
q Bàu rạ; Danh sách Quyền theo các tham số đầu vào